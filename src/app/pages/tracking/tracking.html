<section class="tracking">
    <div class="tracking__shell">

        <header class="tracking__header">
            <h1 class="tracking__title">Seguimiento del pedido</h1>
            <p class="tracking__subtitle">
                Introduce el c√≥digo de seguimiento que recibiste tras completar tu reserva.
            </p>
        </header>

        <article class="card" *ngIf="viewStatus === 'idle' || viewStatus === 'loading'">
            <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>

                <div class="field">
                    <label>C√≥digo de seguimiento</label>
                    <input type="text" formControlName="code" placeholder="Ej: TK-ABC12345"
                        [class.input--invalid]="f.code.touched && f.code.invalid" />
                    <p class="error" *ngIf="f.code.touched && f.code.invalid">
                        Introduce un c√≥digo v√°lido
                    </p>
                </div>

                <button class="btn" type="submit" [disabled]="viewStatus === 'loading'">
                    {{ viewStatus === 'loading' ? 'Buscando‚Ä¶' : 'Buscar pedido' }}
                </button>

            </form>
        </article>

        <article class="card tracking__result" *ngIf="viewStatus === 'found'">
            <div class="result__icon">üì¶</div>

            <h2 class="result__title">
                {{ statusLabel }}
            </h2>

            <p class="result__text">
                {{ statusMessage }}
            </p>

            <div class="result__info">
                <p>
                    <strong>C√≥digo:</strong>
                    {{ order?.trackingCode }}
                </p>

                <p>
                    <strong>Producto:</strong>
                    Tochoko ¬∑ Ladrillo
                </p>

                <p>
                    <strong>Cantidad:</strong>
                    {{ order?.quantity }} unidad{{ order?.quantity! > 1 ? 'es' : '' }}
                </p>

                <p>
                    <strong>Estado:</strong>
                    {{ statusLabel }}
                </p>
            </div>

            <p class="result__hint">
                Conserva este c√≥digo para futuras consultas sobre tu pedido.
            </p>

            <button class="btn btn--ghost" (click)="reset()">
                Consultar otro pedido
            </button>
        </article>

        <article class="card tracking__result" *ngIf="viewStatus === 'not-found'">
            <div class="result__icon">‚ùì</div>

            <h2 class="result__title">Pedido no encontrado</h2>

            <p class="result__text">
                El c√≥digo introducido no corresponde a ning√∫n pedido.
                Revisa que est√© bien escrito o int√©ntalo de nuevo m√°s tarde.
            </p>

            <button class="btn btn--ghost" (click)="reset()">
                Volver a intentar
            </button>
        </article>

    </div>
</section>