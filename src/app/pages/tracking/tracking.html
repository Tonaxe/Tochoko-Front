<section class="tracking">
    <div class="tracking__shell">
        <header class="tracking__header">
            <h1 class="tracking__title">Seguimiento del pedido</h1>
            <p class="tracking__subtitle">
                Introduce el c√≥digo que recibiste por email.
            </p>
        </header>
        
        <article class="card" *ngIf="status === 'idle' || status === 'loading'">
            <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
                <div class="field">
                    <label>C√≥digo de seguimiento</label>
                    <input type="text" formControlName="code" placeholder="Ej: TOCHOKO123"
                        [class.input--invalid]="f.code.touched && f.code.invalid" />
                    <p class="error" *ngIf="f.code.touched && f.code.invalid">
                        Introduce un c√≥digo v√°lido
                    </p>
                </div>

                <button class="btn" type="submit" [disabled]="status === 'loading'">
                    {{ status === 'loading' ? 'Buscando‚Ä¶' : 'Buscar pedido' }}
                </button>
            </form>
        </article>

        <article class="card tracking__result" *ngIf="status === 'found'">
            <div class="result__icon">üì¶</div>

            <h2 class="result__title">Pedido en preparaci√≥n</h2>

            <p class="result__text">
                Tu Tochoko est√° siendo preparado artesanalmente.
            </p>

            <div class="result__info">
                <p><strong>Producto:</strong> Tochoko ¬∑ Ladrillo</p>
                <p><strong>Env√≠o:</strong> SEUR ¬∑ 10‚Ç¨</p>
                <p><strong>Estado:</strong> En preparaci√≥n</p>
            </div>

            <p class="result__hint">
                Recibir√°s un email cuando el pedido salga de nuestro obrador.
            </p>

            <button class="btn btn--ghost" (click)="reset()">
                Consultar otro pedido
            </button>
        </article>

        <article class="card tracking__result" *ngIf="status === 'not-found'">
            <div class="result__icon">‚ùì</div>

            <h2 class="result__title">Pedido no encontrado</h2>

            <p class="result__text">
                Revisa el c√≥digo o prueba de nuevo en unos minutos.
            </p>

            <button class="btn btn--ghost" (click)="reset()">
                Volver a intentar
            </button>
        </article>
    </div>
</section>